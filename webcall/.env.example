# ===== FastAPI / App =====
APP_NAME=WebCall
APP_ENV=dev
API_PREFIX=/api/v1
PORT=8000
HOST=0.0.0.0

# ===== Security =====
## Security
# Сгенерируй: openssl rand -hex 48  (минимум 32 байта)
JWT_SECRET=
JWT_EXPIRES_MIN=60
# Обязательный секрет для регистрации (укажи любое сложное значение)
REGISTRATION_SECRET=

# ===== Database =====
# Пароль задаётся в POSTGRES_PASSWORD ниже
DATABASE_URL=postgresql+asyncpg://webcall:${POSTGRES_PASSWORD}@postgres:5432/webcall
POSTGRES_PASSWORD=

# ===== Redis =====
REDIS_URL=redis://redis:6379/0

# ===== CORS (JSON array) =====
CORS_ORIGINS=["https://call.bandjshoos.ru","http://localhost:8000"]

# ===== WebRTC ICE =====
# STUN
STUN_SERVERS=["stun:stun.l.google.com:19302"]

# TURN: теперь список из UDP и TCP
# ВАЖНО: пароль ниже ДОЛЖЕН совпадать с docker-compose (coturn --user)
TURN_URLS=["turn:turn.example.com:3478?transport=udp","turn:turn.example.com:3478?transport=tcp"]
TURN_REALM=turn.example.com
TURN_PUBLIC_IP=1.2.3.4  # внешний публичный IP VPS
TURN_USERNAME=webcall
TURN_PASSWORD=  # задай реальный и тот же в compose

# ================= Notes =================
# 1. JWT_SECRET / REGISTRATION_SECRET должны быть заданы перед запуском.
# 2. TURN_PUBLIC_IP обязателен если сервер за NAT.
# 3. Для production обязательно поменяй все пустые поля.
